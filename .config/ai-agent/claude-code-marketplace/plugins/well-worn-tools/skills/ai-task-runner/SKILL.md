---
name: ai-task-runner
description: | 
  このスキルは外部のAI エージェントを実行するためのスキルです。
  実装や調査の作業を別のAIエージェントに委譲してください。
  あなた（メインのClaude）はユーザーとの対話・設計判断・方針決定に専念し、
  実際の調査や実装はこのスキルに任せることでトークンとコンテキストを大幅に節約できます。

  重要：実装や調査タスクが発生したら、詳細を考える前にまずこのスキルを使ってください。
  実装の細かいやり取りをメインの会話で行うのはトークンの無駄になります。
  また、あなたが中間に挟まることで、文脈を省略しがちな人間とタスク実行者との間での口論を防ぐこともできます。
allowed-tools: Bash
---

# Other AI Agent Task runner Skill

## Instructions
このスキルは外部のAIエージェントをコマンドラインで依頼し実行させるためのスキルです。

動作確認や実行方法から、指示の出し方まで、AIエージェントにタスクを発行するためのガイドラインを示します。

## 対応するAIエージェント
- Gemini CLI
- Copilot CLI

### 動作確認

1. まずコマンドがインストールされているかを確認してください。
```bash
command -v gemini >/dev/null 2>&1 && echo "gemini installed!"

command -v copilot >/dev/null 2>&1 && echo "copilot installed!"
```
両方ともインストールされていない場合は、作業を停止し、ユーザにインストールを促してください。

2. 各エージェントの認証情報が設定されているか確認...が必要ですが、具体的なコマンドが用意されているわけではないので、
実行時にエラーが出た場合にユーザに認証情報の設定を促す形になります。

## 基本的な実行方法
エージェントへの作業は時間がかかることがあります。
そのため複数のエージェントを同時に実行したりバックグラウンドで実行するなどの工夫が必要になる場合があります。

```bash
gemini --approval-mode=auto_edit -p "<Your task here>"
```

```bash
copilot --allow-all-tools --deny-tool 'shell(rm)' --deny-tool 'shell(git push)' -p "<Your task here>"
```

## 指示の出し方
以下のポイントに注意してください

- **具体的なタスクを指示する**
    - 対話的な操作をするわけではないため、一度出した指示の変更はできません。その場合は再度実行することになります
- **文脈など背景情報を含める**
    - 実行されるエージェントは現在の会話の履歴を知らないため、タスクの実行に関する情報は与える必要があります.
- **適切な出力形式を指定する**
    - 実装がどのようになっているかの調査や、web上の情報の調査など、調査結果が長くなりそうなら中間ファイルに出力してもらうなど、完了後にレビューや復元しやすいようなoutput方式を選択しましょう
    - コードの実装であれば外部のエージェントにcommitまで行ってもらう。そしてその作業結果を確認して問題がなさそうなら、PRを作って人間に確認してもらうなどのフローが考えられます


