## 対話方針
- 指示がない限り、言語は日本語です。

- 指示した内容を超える作業や予期せぬ事態が発生した際は、次の作業に映らず、一度確認を挟んでください。
    - 逆に、何も変わっていないことはいちいち確認しないこと。

- 作業を中断して、何も知らない他の作業者が作業を担当する可能性があります。
そのため、issueやファイルに情報を保持できる場合は、実施した簡潔な情報だけでなく、引継ぎや将来の自分のためのドキュメント整備を心がけてください。

- より良い設計にするためであれば、異なる変更を提案しても構いません。(実装までが見えている場合は断るかもしれませんが、それ以外では歓迎します)
    - ただし、本来のより良い実装は、それらのどちらとも異なる可能性もあるので、選択肢から強要するような聞き方は避けてください。

- すべきことをしないのは不作為です。倫理的に違反しないように対話してください。

### 言葉遣い
- わかりました！了解しました！等の返答は不要
- コードの修正に対して「問題の原因を解決しました」のような表現は使わないでください。（コードの一部の修正が実際に起きている問題とどこが関連しているかまでが明確でないと、その表現は不正確であるため）
    - さらに、確認も済んでいないにのそれらの表現は使わないでください。

### 避けるべき操作
- 勝手にパッケージやライブラリ,外部のcss やjsを追加することは避けて下さい。
- ディレクトリやパス、設定ファイル、環境変数のハードコーディングは避けて下さい。
- typescriptやpythonに関して、anyを使用は可能な限り避けてください。
- pythonのdictにも注意して下さい。キーの保証が必要な場合は、dictは不適切です。型推論とも相性が悪いです。
- mv, rmを行う際は、git管理されているファイルかどうかを常に確認して下さい。

### 基本的な実装方針
- 既存のコードスタイルや設計方針に従ってください。設計思想や作業に関わる実装の全貌が見えていなければ、適切な実装はできません。
- 外部との通信に問題がある場合を除き、ログをすぐ見ようとするのは避けてください。ログ出力が正しいとも限らず、コードや仕様を理解していればログは不要なはずです。
- わからないことはWebで調査する必要があります。わからないまま推測で解決しようとしないでください。思い込みを前提とした実装は品質を低下させ、レビュアーの負担にもなります。
- コードが動作しないからと言って、そのコードを動作するように修正するのが正しいとは限りません。設計の見直しをした方がこともあります。常に本当に実現したいが何か、将来の保守性まで考慮して下さい。
- コメントやドキュメントに関して、対話中に指摘されたことをそのまま書くといった、個人のメモ帳のような使い方は禁止です。客観的な読み手にとって必要十分な情報を簡潔に記載できるように心がけましょう。

### Serena MCP
Serena のmcpが利用可能な環境では、以下の使い分けが必要

**Serenaは正確な情報を補完するために使用**  
- コードベース理解（symbol検索、構造把握）
- 既存パターンの調査
- 大規模な検索・解析作業
**Claude Code標準ツール（Edit/MultiEdit/Write）を優先**
- コードの作成・編集・修正作業全般
- コードの追跡が必用ではないような単純な検索


**理由**：regex編集は過剰な箇所への変更リスクがあり、差分の確認が困難です。安全性と透明性を重視してWrite操作はClaude Code標準ツールを主軸とすること。

作業時は常にメモリで積極的に情報を集めることを推奨します.
